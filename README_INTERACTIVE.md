# 安全文本检测交互式运行脚本使用说明

这个交互式脚本可以帮助您更方便地设置参数并运行安全文本检测程序。

## 使用方法

1. 确保您在项目根目录下执行脚本：

```bash
cd /path/to/security-text-detect-825
python run_interactive.py
```

2. 脚本会首先提示您选择预定义的工作模式：

   - **全功能模式**：检测所有类型的敏感信息
   - **纯正则匹配模式**：仅使用正则表达式匹配，关闭认证信息搜索（默认）
   - **仅认证信息模式**：只检测用户名和密码信息
   - **全量输出模式**：输出所有匹配到的信息，包括无关联信息
   - **自定义模式**：手动设置所有参数

3. 根据您选择的模式，脚本会引导您设置必要的参数：

   - **扫描文件夹路径**：要扫描的文件夹，默认为"../data"
   - **是否使用多进程**：是否启用多进程处理，默认为"否"
   - **时间信息输出文件**：程序运行时间信息的输出位置，默认为"output/time_info.txt"
   - **是否处理非图片文件内部中的图片**：是否处理嵌入在非图片文件中的图片，默认为"否"
   - **是否清空workspace缓存目录**：程序结束后是否清理临时文件，默认为"是"
   - **是否输出无关联的敏感信息**：是否输出不满足关联规则的敏感信息，默认为"否"
   - **是否启用认证信息搜索模式**：是否搜索用户名和密码相关信息，默认为"是"

   注意：如果您选择了预定义模式（非"自定义模式"），部分参数将自动设置，您只需指定扫描文件夹和时间信息输出文件。

4. 在完成参数设置后，脚本会显示即将执行的完整命令，并询问您是否确认执行。

## 预定义工作模式说明

| 模式名称 | 说明 | 特点 |
|---------|------|------|
| 全功能模式 | 检测所有类型的敏感信息 | 平衡检测效果和性能 |
| 纯正则匹配模式 | 仅使用正则表达式匹配敏感信息 | 默认配置，关闭认证信息搜索，直接输出正则匹配到的内容，不进行其他过滤 |
| 仅认证信息模式 | 只检测用户名和密码信息 | 专注于查找认证凭据，减少其他敏感信息的干扰 |
| 全量输出模式 | 输出所有匹配到的敏感信息 | 启用所有检测功能，并输出所有匹配项，包括无关联信息 |
| 自定义模式 | 手动设置所有参数 | 完全自定义程序行为，适合高级用户 |

## 错误处理

- 如果脚本无法找到code目录，会显示警告信息。
- 运行过程中出现任何错误都会被捕获并显示。
- 您可以随时按下Ctrl+C中断脚本执行。

## 参数说明

| 参数名称 | 命令行选项 | 默认值 | 说明 |
|---------|-----------|-------|------|
| 扫描文件夹 | -f, --folder | ../data | 要扫描的文件夹路径 |
| 多进程 | -mp, --multiprocess | false | 是否使用多进程执行 |
| 时间输出 | -t, --time | output/time_info.txt | 时间信息输出文件路径 |
| 处理图片 | -p, --picture | false | 是否处理非图片文件内部中的图片 |
| 清理工作区 | -c, --clean | true | 程序运行结束后是否清空workspace缓存目录 |
| 无关联敏感信息 | -ur, --unrelated | false | 是否输出不满足关联规则的敏感信息 |
| 认证信息搜索 | -auth, --auth_search | true | 是否搜索用户名和密码相关信息 |

## 注意事项

- 脚本会自动切换到code目录下执行main.py，所以您可以在项目根目录运行此脚本。
- 如果您需要中断程序执行，请按Ctrl+C。
- 运行前请确保您已经安装了所有必要的依赖项。 